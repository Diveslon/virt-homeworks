# Домашнее задание к занятию "5.1. Основы виртуализации"

## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

### Ответ

Полная или аппаратная виртуализация - это когда гипервизор является собственно операционной системой и сам выполняет функции ОС и орагнизацию виртуализации. Паравиртуализации нужна какая-лиюо операционная система, поскольку гипервизор в этом случае - это всё-таки программа и ей нужна ОС для функционирования и связи с ресурсами хостового сервера. Виртуализация на основе ОС, или насколько я понимаю её можно также называть котейниризацией, это создание образа хостовой ОС с независимыми выделенными ресурсами.

## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:

- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:

- Высоконагруженная база данных, чувствительная к отказу.
- Различные web-приложения.
- Windows системы для использования бухгалтерским отделом.
- Системы, выполняющие высокопроизводительные расчеты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

### Ответ
Конечно же задача абстракная, поскольку в реальной жизни выбор немного сложнеее. В том числе следует учитывать также какие сервера и на какой виртуализации уже подняты, какие есть физичческие сервера и какими лицензиямии мы обладаем. Кроме того следует учитывать опыт и квалификацию системных инженеров.
Но обстрагируясь от этого:
- Высоконагруженная база данных, чувствительная к отказу: я бы выбрал физический сервер или лучше кластер физических серверов. Так же можно полную виртуализацию. Посколько БД высоконагружена и нельзя тратить ресурсы на обслуживание хостовой ОС, ну а контейниризация так же съест много ресурсов. Чуствительность к отказу учитывать в создании кластера.
- Различные web-приложения: всё-таки надо смотреть на эти приложения. Если много много мелких, то - это контейнеризация, которая позволитт грамотно распределить ресурсы и иметь возможность  обновление и откатов. 
- Windows системы для использования бухгалтерским отделом: пожалуй здесь хорошо будет использовать паравиртуализацию с хорошим бэкапом. Можно на хостовой машине организовать достаточное количество серверов с возможностью отката и поиска данных, поскольку бухгалтера всегда что-то теряют во вчерашнем дне.
- Системы, выполняющие высокопроизводительные расчеты на GPU: тут однозначно физический сервер - все ресурсы на расчёты! 

## Задача 3
Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

### Ответ
- Для первого случая я бы предложил использовать vmvare vsphere && Vim backup&replication,поскольку требуется хорошая балансировка нагрузки, репликация  и создание резервных копий.
- Для второго случая думаю лучшим решением будет Xen, поскольку он бесплатен, достаточно высокопроизводителен и поддерживает ОС на базе Linux и Windows
- В-третьем случае я бы выбрал Hyper-V, но нужно точно смотреть инфраструктуры и возможность бесплатного использования Hyper-v. Если бесплатного использования Hyper-V недостаточно, то преходить на Xen
- В четвёртом случае я бы выбрал KVM, поскольку он очень хорошо зарекомендовал себя при работе с Linux

## Задача 4
Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

## Ответ
Недостатки и проблемы:
- разные точки отказа
- разные программы управления
- нет единого центра управления
- разный уровень подготовки инжинеров
- возможно несовместимые бэкапы
- невозможность быстрого переноса ресурсов между гипервизорами

Если бы у меня был выбор - то только гомогенная среда виртуализации.
К примеру, при отказе одного гипервизора нужно срочно пожнять  сервер, но он в формате другом - требуется конвертация, а это время... и как результат деньги. Так же по опыту: это правильное направление людских ресурсов. Лучше быть спецом в одном, чем быть по-немногу везде...

